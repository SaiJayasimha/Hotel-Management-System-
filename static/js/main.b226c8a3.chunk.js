(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{196:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(32),s=a.n(r),o=(a(196),a(83)),i=a(33),l=a(5);var j=function(){var e=JSON.parse(localStorage.getItem("currentUser"));function t(){localStorage.removeItem("currentUser"),window.location.href="/login"}return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg",children:[Object(l.jsx)("a",{className:"navbar-brand",href:"/home",children:"SUITE SPOT"}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon",children:Object(l.jsx)("i",{class:"fas fa-bars",style:{color:"white"}})})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:e?Object(l.jsx)("ul",{className:"navbar-nav mr-5",children:Object(l.jsxs)("div",{className:"dropdown",children:[Object(l.jsxs)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(l.jsx)("i",{class:"fas fa-user mr-2"}),e.name]}),Object(l.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",children:[Object(l.jsx)("a",{className:"dropdown-item",href:"/profile",children:"Profile"}),Object(l.jsx)("a",{className:"dropdown-item",href:"#",onClick:t,children:"Logout"})]})]})}):Object(l.jsxs)("ul",{className:"navbar-nav",children:[Object(l.jsx)("li",{className:"nav-item active",children:Object(l.jsx)("a",{className:"nav-link",href:"/register",children:"Register"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})})]})})]})})},d=a(150),u=a(22),b=a.n(u),m=a(29),O=a(13),h=a(30),x=a.n(h),p=(a(215),a(319)),f=a(31),v=a.n(f),g=a(320),y=a(325),N=a(317);var k=function(e){var t=e.room,a=e.fromDate,n=e.toDate,r=Object(c.useState)(!1),s=Object(O.a)(r,2),i=s[0],j=s[1],d=function(){return j(!1)};return Object(l.jsxs)("div",{className:"row bs",children:[Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)("img",{src:t.imageurls[0],className:"smallimg",alt:""})}),Object(l.jsxs)("div",{className:"col-md-7",children:[Object(l.jsx)("h1",{children:t.name}),Object(l.jsxs)("b",{children:[Object(l.jsxs)("p",{children:["Max Count : ",t.maxcount]}),Object(l.jsxs)("p",{children:["Phone Number : ",t.phonenumber]}),Object(l.jsxs)("p",{children:["Type : ",t.type]})]}),Object(l.jsxs)("div",{style:{float:"right"},children:[a&&n&&Object(l.jsx)(o.b,{to:"/book/".concat(t._id,"/").concat(a,"/").concat(n),children:Object(l.jsx)("button",{className:"btn btn-primary m-2",children:"Book Now"})}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return j(!0)},children:"View Detail"})]})]}),Object(l.jsxs)(g.a,{show:i,onHide:d,size:"lg",children:[Object(l.jsx)(g.a.Header,{children:Object(l.jsx)(g.a.Title,{children:t.name})}),Object(l.jsxs)(g.a.Body,{children:[Object(l.jsx)(y.a,{prevLabel:"",nextLabel:"",children:t.imageurls.map((function(e){return Object(l.jsx)(y.a.Item,{children:Object(l.jsx)("img",{className:"d-block w-100 bigimg",src:e,alt:"First slide"})})}))}),Object(l.jsx)("p",{children:t.description})]}),Object(l.jsx)(g.a.Footer,{children:Object(l.jsx)(N.a,{variant:"secondary",onClick:d,children:"Close"})})]})]})},w=a(177),S=a.n(w);var C=function(){var e=Object(c.useState)(!0),t=Object(O.a)(e,2),a=t[0],n=(t[1],Object(c.useState)("#ffffff")),r=Object(O.a)(n,2);return r[0],r[1],Object(l.jsx)("div",{style:{marginTop:"150px"},children:Object(l.jsx)("div",{className:"sweet-loading text-center",children:Object(l.jsx)(S.a,{color:"#000",loading:a,css:"",size:25})})})};var I=function(e){var t=e.msg;return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"alert alert-danger",role:"alert",children:["Something went wrong, please try again. ",t]})})},Y=a(120),D=a.n(Y);a(165);D.a.init({duration:1e3});var E=p.a.RangePicker;var M=function(){var e=Object(c.useState)(!0),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)([]),u=Object(O.a)(j,2),h=u[0],p=u[1],f=Object(c.useState)(),g=Object(O.a)(f,2),y=g[0],N=g[1],w=Object(c.useState)(),S=Object(O.a)(w,2),Y=S[0],D=S[1],M=Object(c.useState)([]),A=Object(O.a)(M,2),P=A[0],R=A[1],F=Object(c.useState)(""),T=Object(O.a)(F,2),U=T[0],L=T[1],B=Object(c.useState)("all"),q=Object(O.a)(B,2),_=q[0],J=q[1];return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(""),n(!0),e.next=5,x.a.get("/api/rooms/getallrooms");case 5:t=e.sent.data,p(t),R(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),i(e.t0);case 14:n(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"row mt-5 bs",children:[Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)(E,{format:"DD-MM-YYYY",onChange:function(e){try{N(v()(e[0]).format("DD-MM-YYYY")),D(v()(e[1]).format("DD-MM-YYYY"));var t,a=[],c=Object(d.a)(P);try{for(c.s();!(t=c.n()).done;){var n=t.value,r=!1;if(n.currentbookings.length>0){var s,i=Object(d.a)(n.currentbookings);try{for(i.s();!(s=i.n()).done;){var l=s.value;v()(v()(e[0]).format("DD-MM-YYYY")).isBetween(l.fromdate,l.todate)||v()(v()(e[1]).format("DD-MM-YYYY")).isBetween(l.fromdate,l.todate)||v()(e[0]).format("DD-MM-YYYY")!==l.fromdate&&v()(e[0]).format("DD-MM-YYYY")!==l.todate&&v()(e[1]).format("DD-MM-YYYY")!==l.fromdate&&v()(e[1]).format("DD-MM-YYYY")!==l.todate&&(r=!0)}}catch(j){i.e(j)}finally{i.f()}}1!=r&&0!=n.currentbookings.length||a.push(n)}}catch(j){c.e(j)}finally{c.f()}p(a)}catch(o){}}})}),Object(l.jsx)("div",{className:"col-md-5",children:Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"search rooms",value:U,onChange:function(e){L(e.target.value)},onKeyUp:function(){var e=P.filter((function(e){return e.name.toLowerCase().includes(U.toLowerCase())}));p(e)}})}),Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsxs)("select",{className:"form-control",value:_,onChange:function(e){!function(e){if(J(e),console.log(e),"all"!==e){var t=P.filter((function(t){return t.type.toLowerCase()==e.toLowerCase()}));p(t)}else p(P)}(e.target.value)},children:[Object(l.jsx)("option",{value:"all",children:"All"}),Object(l.jsx)("option",{value:"delux",children:"Delux"}),Object(l.jsx)("option",{value:"non-delux",children:"Non-Delux"})]})})]}),Object(l.jsx)("div",{className:"row justify-content-center mt-5",children:a?Object(l.jsx)(C,{}):o.length>0?Object(l.jsx)(I,{msg:o}):h.map((function(e){return Object(l.jsx)("div",{className:"col-md-9 mt-3","data-aos":"flip-down",children:Object(l.jsx)(k,{room:e,fromDate:y,toDate:Y})})}))})]})},A=a(180),P=a.n(A),R=a(61),F=a.n(R);var T=function(e){var t=e.match,a=Object(c.useState)(!0),n=Object(O.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(""),i=Object(O.a)(o,2),j=i[0],d=i[1],u=Object(c.useState)({}),h=Object(O.a)(u,2),p=h[0],f=h[1],g=Object(c.useState)(0),y=Object(O.a)(g,2),N=y[0],k=y[1],w=Object(c.useState)(0),S=Object(O.a)(w,2),Y=S[0],D=S[1],E=t.params.roomid,M=v()(t.params.fromdate,"DD-MM-YYYY"),A=v()(t.params.todate,"DD-MM-YYYY");Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(""),s(!0),e.next=5,x.a.post("/api/rooms/getroombyid",{roomid:t.params.roomid});case 5:a=e.sent.data,f(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),d(e.t0);case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}JSON.parse(localStorage.getItem("currentUser"))||(window.location.href="/login"),function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){var e=v.a.duration(A.diff(M)).asDays()+1;D(e),k(Y*p.rentperday)}),[p,Y,N]);var R=function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={room:p,userid:JSON.parse(localStorage.getItem("currentUser"))._id,fromdate:M,todate:A,totalAmount:N,totaldays:Y,token:t},e.prev=2,s(!0),e.next=6,x.a.post("/api/bookings/bookroom",a);case 6:e.sent,s(!1),F.a.fire("Congratulations","Your Room Booked Successfully","success").then((function(e){window.location.href="/home"})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),d("Error: "+e.t0.response.data.message),F.a.fire("Oops","Error: "+e.t0.response.data.message,"error");case 15:s(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,x.a.post("/api/users/addToQueue",{userid:JSON.parse(localStorage.getItem("currentUser"))._id,roomid:E});case 4:e.sent,s(!1),F.a.fire("Success","Room added to your queue","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),d("Error: "+e.t0.response.data.message),F.a.fire("Oops","Error: "+e.t0.response.data.message,"error");case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"m-5",children:r?Object(l.jsx)(C,{}):j.length>0?Object(l.jsx)(I,{msg:j}):Object(l.jsxs)("div",{className:"row justify-content-center mt-5 bs",children:[Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h1",{children:p.name}),Object(l.jsx)("img",{src:p.imageurls[0],alt:"",className:"bigimg"})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsxs)("div",{style:{textAlign:"right"},children:[Object(l.jsx)("h1",{children:"Booking Details"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("b",{children:[Object(l.jsxs)("p",{children:["Name : ",JSON.parse(localStorage.getItem("currentUser")).name]}),Object(l.jsxs)("p",{children:["From Date : ",t.params.fromdate]}),Object(l.jsxs)("p",{children:["To Date : ",t.params.todate]}),Object(l.jsxs)("p",{children:["Max Count : ",p.maxcount]})]})]}),Object(l.jsxs)("div",{style:{textAlign:"right"},children:[Object(l.jsx)("h1",{children:"Amount"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("b",{children:[Object(l.jsxs)("p",{children:["Total Days : ",Y]}),Object(l.jsxs)("p",{children:["Rent per day : ",p.rentperday]}),Object(l.jsxs)("p",{children:["Total Amount : ",N]})]})]}),Object(l.jsxs)("div",{style:{float:"right"},children:[Object(l.jsx)(P.a,{amount:100*N,currency:"INR",token:R,stripeKey:"YOUR PUBLIC STRIP API KEY",children:Object(l.jsx)("button",{className:"btn btn-primary",children:"Pay Now"})}),Object(l.jsx)("button",{className:"btn btn-success ml-3",onClick:T,children:"Add to Queue"})]})]})]})})};var U=function(e){var t=e.msg;return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"alert alert-success",role:"alert",children:t})})};var L=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),u=d[0],h=d[1],p=Object(c.useState)(""),f=Object(O.a)(p,2),v=f[0],g=f[1],y=Object(c.useState)(!1),N=Object(O.a)(y,2),k=N[0],w=N[1],S=Object(c.useState)(""),Y=Object(O.a)(S,2),D=Y[0],E=Y[1],M=Object(c.useState)(""),A=Object(O.a)(M,2),P=A[0],R=A[1],F=Object(c.useState)(!1),T=Object(O.a)(F,2),L=T[0],B=T[1];function q(){return(q=Object(m.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u!==v){e.next=27;break}if(_(u)){e.next=4;break}return B(!0),e.abrupt("return");case 4:return t={name:a,email:o,password:u,cpassword:v},w(!0),E(""),R(""),e.prev=8,e.next=11,x.a.post("/api/users/register",t);case 11:c=e.sent.data,console.log(c),R(c),n(""),i(""),h(""),g(""),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),console.log(e.t0.response.data.message),E(e.t0.response.data.message);case 24:w(!1),e.next=28;break;case 27:alert("Password not matched");case 28:case"end":return e.stop()}}),e,null,[[8,20]])})))).apply(this,arguments)}var _=function(e){return/^(?=.*[A-Z])(?=.*\d).{6,}$/.test(e)};return Object(l.jsxs)("div",{children:[k&&Object(l.jsx)(C,{}),D.length>0&&Object(l.jsx)(I,{msg:D}),P.length>0&&Object(l.jsx)(U,{msg:P}),L&&Object(l.jsx)(I,{msg:"Password must contain at least one capital letter, one number, and be at least 6 characters long.",onClose:function(){return B(!1)}}),Object(l.jsx)("div",{className:"row justify-content-center mt-5",children:Object(l.jsx)("div",{className:"col-md-5 mt-5",children:Object(l.jsxs)("div",{className:"bs",children:[Object(l.jsx)("h2",{children:"Register"}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"name",value:a,onChange:function(e){n(e.target.value)}}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"email",value:o,onChange:function(e){i(e.target.value)}}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"password",value:u,onChange:function(e){h(e.target.value)}}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"confirm password",value:v,onChange:function(e){g(e.target.value)}}),k?Object(l.jsx)("div",{children:"Registering... Please Wait..."}):Object(l.jsx)("button",{className:"btn btn-primary mt-3",onClick:function(){return q.apply(this,arguments)},children:"Register"})]})})})]})};var B=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),u=d[0],h=d[1],p=Object(c.useState)(""),f=Object(O.a)(p,2),v=f[0],g=f[1],y=Object(c.useState)(!1),N=Object(O.a)(y,2),k=N[0],w=N[1],S=Object(c.useState)(""),Y=Object(O.a)(S,2),D=Y[0],E=Y[1],M=Object(c.useState)(!1),A=Object(O.a)(M,2),P=A[0],R=A[1];Object(c.useEffect)((function(){F()}),[]);var F=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",a=0;a<5;a++)t+=e.charAt(Math.floor(Math.random()*e.length));h(t)},T=function(){var e=Object(m.a)(b.a.mark((function e(){var t,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=3;break}return E("Captcha is wrong. Please try again."),e.abrupt("return");case 3:return R(!0),t={email:a,password:o},e.prev=5,e.next=8,x.a.post("/api/users/login",t);case 8:c=e.sent.data,localStorage.setItem("currentUser",JSON.stringify(c)),window.location.href="/home",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),E("Invalid Credentials");case 16:R(!1);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{children:[P&&Object(l.jsx)(C,{}),Object(l.jsx)("div",{className:"row justify-content-center mt-5",children:Object(l.jsxs)("div",{className:"col-md-5 mt-5",children:[D&&Object(l.jsx)(I,{msg:D}),Object(l.jsxs)("div",{className:"bs",children:[Object(l.jsx)("h2",{children:"Login"}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",value:a,onChange:function(e){return n(e.target.value)}}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",value:o,onChange:function(e){return i(e.target.value)}}),Object(l.jsxs)("div",{className:"captcha-container",children:[Object(l.jsx)("div",{className:"captcha-box",children:u}),Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter Captcha",value:v,onChange:function(e){g(e.target.value),e.target.value===u?w(!0):w(!1)}})]}),Object(l.jsx)("button",{className:"btn btn-primary mt-3",onClick:T,children:"Login"})]})]})})]})},q=a(129),_=a(67),J=a(322),z=a(187),K=a(324),Q=a(190),H=a(60);var G=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),u=d[0],h=d[1],p=JSON.parse(localStorage.getItem("currentUser"));function f(){return v.apply(this,arguments)}function v(){return(v=Object(m.a)(b.a.mark((function e(){var t,a,c,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),i(!0),e.prev=2,e.next=5,x.a.post("/api/bookings/getbookingbyuserid",{userid:p._id});case 5:t=e.sent,a=t.data,n(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),h((null===(c=e.t0.response)||void 0===c||null===(r=c.data)||void 0===r?void 0:r.message)||"Failed to fetch bookings");case 14:i(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function g(){return(g=Object(m.a)(b.a.mark((function e(t,a){var c,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),i(!0),e.prev=2,e.next=5,x.a.post("/api/bookings/cancelbooking",{bookingid:t,roomid:a});case 5:i(!1),F.a.fire("Congratulations","Your Room Cancelled Successfully","success").then((function(){f()})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),h((null===(c=e.t0.response)||void 0===c||null===(n=c.data)||void 0===n?void 0:n.message)||"Failed to cancel booking"),i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function y(){return(y=Object(m.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),i(!0),e.prev=2,e.next=5,x.a.post("/api/users/removeFromQueue",{userid:p._id,roomid:t});case 5:i(!1),F.a.fire("Success","Room removed from queue successfully","success").then((function(){f()})),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),h((null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message)||"Failed to remove room from queue"),i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){f()}),[]),Object(l.jsx)("div",{children:o?Object(l.jsx)(C,{}):u?Object(l.jsx)(I,{msg:u}):Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-6 ml-5",children:a.map((function(e){return Object(l.jsxs)("div",{className:"bs",children:[Object(l.jsx)("h1",{children:e.room}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"BookingId:"})," ",e._id]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"CheckIn:"})," ",e.fromdate]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"CheckOut:"})," ",e.todate]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Amount:"})," ",e.totalamount]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Status:"})," ","booked"===e.status?Object(l.jsx)(Q.a,{color:"green",children:"CONFIRMED"}):Object(l.jsx)(Q.a,{color:"red",children:"CANCELLED"})]}),"booked"===e.status&&Object(l.jsx)("div",{className:"text-right",children:Object(l.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(e,t){return g.apply(this,arguments)}(e._id,e.roomid)},children:"Cancel Booking"})}),p.queue&&p.queue.includes(e.roomid)&&Object(l.jsx)("div",{className:"text-right mt-2",children:Object(l.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){return y.apply(this,arguments)}(e.roomid)},children:"Remove from Queue"})})]},e._id)}))})})})},V=J.a.TabPane;var W=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("currentUser"))),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(Object(_.a)({},a)),d=Object(O.a)(j,2),u=d[0],h=d[1];Object(c.useEffect)((function(){a||(window.location.href="/login")}),[a]);var p=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("/api/updateUser",u);case 3:t=e.sent,n(t.data),z.b.success("User details updated successfully"),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),z.b.error("Failed to update user details"),console.error("Error updating user details:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"ml-3 mt-3",children:Object(l.jsxs)(J.a,{defaultActiveKey:"1",onChange:function(e){console.log(e)},children:[Object(l.jsx)(V,{tab:"Profile",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-xs-12 ml-5 mb-5",children:Object(l.jsxs)("div",{className:"bs",children:[Object(l.jsx)("p",{children:"My Profile"}),Object(l.jsxs)("p",{children:["Name : ",o?Object(l.jsx)(K.a,{name:"name",value:u.name,onChange:function(e){var t=e.target,a=t.name,c=t.value;h(Object(_.a)(Object(_.a)({},u),{},Object(q.a)({},a,c)))}}):a.name]}),Object(l.jsxs)("p",{children:["Email : ",a.email]}),Object(l.jsxs)("p",{children:["IsAdmin :"," ",a.isAdmin?Object(l.jsx)(Q.a,{color:"green",children:"YES"}):Object(l.jsx)(Q.a,{color:"red",children:"NO"})]}),o?Object(l.jsx)(H.a,{type:"primary",onClick:p,children:"Update"}):Object(l.jsx)(H.a,{onClick:function(){return i(!0)},children:"Edit"})]})})})},"1"),Object(l.jsx)(V,{tab:"Booking",children:Object(l.jsx)(G,{})},"2")]})})},Z=a(318);var X=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),u=d[0],h=d[1],p=[{title:"transactionid",dataIndex:"transactionid",key:"transactionid"},{title:"roomid",dataIndex:"roomid",key:"roomid"},{title:"room",dataIndex:"room",key:"room"},{title:"fromdate",dataIndex:"fromdate",key:"fromdate"},{title:"todate",dataIndex:"todate",key:"todate"},{title:"status",dataIndex:"status",key:"status",render:function(e){return Object(l.jsx)(l.Fragment,{children:"booked"===e?Object(l.jsx)(Q.a,{color:"green",children:"CONFIRMED"}):Object(l.jsx)(Q.a,{color:"red",children:"CANCELLED"})})}}];function f(){return(f=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),i(!0),e.prev=2,e.next=5,x.a.post("/api/bookings/getallbookings");case 5:t=e.sent.data,n(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),h(e.t0);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(C,{}):u.length>0?Object(l.jsx)(I,{msg:u}):Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)(Z.a,{columns:p,dataSource:a})})})};var $=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),u=d[0],h=d[1],p=function(){var e=Object(m.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),i(!0),e.prev=2,e.next=5,x.a.get("/api/rooms/getallrooms");case 5:t=e.sent,a=t.data,n(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),h("Error fetching rooms");case 14:i(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.delete("/api/rooms/delete/".concat(t));case 3:p(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0),h("Error deleting room");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){p()}),[]);var v=[{title:"Room ID",dataIndex:"_id",key:"_id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Max Count",dataIndex:"maxcount",key:"maxcount"},{title:"Phone Number",dataIndex:"phonenumber",key:"phonenumber"},{title:"Rent Per Day",dataIndex:"rentperday",key:"rentperday"},{title:"Type",dataIndex:"type",key:"type"},{title:"Action",key:"action",render:function(e,t){return Object(l.jsx)(H.a,{danger:!0,onClick:function(){return f(t._id)},children:"Delete"})}}];return Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(C,{}):u?Object(l.jsx)(I,{msg:u}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"col md-12",children:Object(l.jsx)(H.a,{className:"btn btn-success",onClick:p,children:"Refresh"})}),Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)(Z.a,{columns:v,dataSource:a})})]})})};var ee=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!0),s=Object(O.a)(r,2),o=s[0],i=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),u=d[0],h=d[1],p=[{title:"userid",dataIndex:"_id",key:"_id"},{title:"name",dataIndex:"name",key:"name"},{title:"email",dataIndex:"email",key:"email"},{title:"isAdmin",dataIndex:"isAdmin",key:"isAdmin",render:function(e){return Object(l.jsx)(l.Fragment,{children:!0===e?Object(l.jsx)(Q.a,{color:"green",children:"YES"}):Object(l.jsx)(Q.a,{color:"red",children:"NO"})})}}];function f(){return(f=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),i(!0),e.prev=2,e.next=5,x.a.post("/api/users/getallusers");case 5:t=e.sent.data,n(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),h(e.t0);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(C,{}):u.length>0?Object(l.jsx)(I,{msg:u}):Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)(Z.a,{columns:p,dataSource:a})})})},te=a(107),ae=a(321),ce=a(323),ne={labelCol:{span:4},wrapperCol:{span:16}},re={wrapperCol:{offset:8,span:16}};var se=function(){var e=te.a.Option,t=Object(c.useState)({}),a=Object(O.a)(t,2),n=(a[0],a[1],Object(c.useState)(!1)),r=Object(O.a)(n,2),s=r[0],o=r[1],i=Object(c.useState)(""),j=Object(O.a)(i,2),d=j[0],u=j[1],h=ae.a.useForm(),p=Object(O.a)(h,1)[0],f=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),u(""),o(!0),e.prev=3,e.next=6,x.a.post("/api/rooms/addroom",t);case 6:e.sent.data,F.a.fire("Congratulations","Your Room Added Successfully","success"),p.resetFields(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),u(e.t0),F.a.fire("Opps","Error:"+e.t0,"error");case 16:o(!1);case 17:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"row",children:s?Object(l.jsx)(C,{}):d.length>0?Object(l.jsx)(I,{msg:d}):Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsxs)(ae.a,Object(_.a)(Object(_.a)({},ne),{},{form:p,name:"control-hooks",onFinish:f,children:[Object(l.jsx)(ae.a.Item,{name:"name",label:"name",rules:[{required:!0}],children:Object(l.jsx)(K.a,{})}),Object(l.jsx)(ae.a.Item,{name:"description",label:"description",rules:[{required:!0}],children:Object(l.jsx)(K.a,{})}),Object(l.jsx)(ae.a.Item,{name:"maxcount",label:"maxcount",rules:[{required:!0}],children:Object(l.jsx)(ce.a,{min:1,defaultChecked:1})}),Object(l.jsx)(ae.a.Item,{name:"phonenumber",label:"phonenumber",rules:[{required:!0}],children:Object(l.jsx)(K.a,{})}),Object(l.jsx)(ae.a.Item,{name:"rentperday",label:"rentperday",rules:[{required:!0}],children:Object(l.jsx)(ce.a,{min:1,defaultChecked:1})}),Object(l.jsx)(ae.a.Item,{name:"imageurl1",label:"imageurl1",rules:[{required:!0}],children:Object(l.jsx)(K.a,{})}),Object(l.jsx)(ae.a.Item,{name:"imageurl2",label:"imageurl2",rules:[{}],children:Object(l.jsx)(K.a,{})}),Object(l.jsx)(ae.a.Item,{name:"imageurl3",label:"imageurl3",rules:[{}],children:Object(l.jsx)(K.a,{})}),Object(l.jsx)(ae.a.Item,{name:"type",label:"type",rules:[{required:!0}],children:Object(l.jsxs)(te.a,{placeholder:"Select a room type",allowClear:!0,children:[Object(l.jsx)(e,{value:"delux",children:"Delux"}),Object(l.jsx)(e,{value:"non-delux",children:"Non-Delux"})]})}),Object(l.jsxs)(ae.a.Item,Object(_.a)(Object(_.a)({},re),{},{children:[Object(l.jsx)(H.a,{type:"success",htmlType:"submit",children:"Add"}),Object(l.jsx)(H.a,{type:"danger",htmlType:"button",onClick:function(){p.resetFields()},children:"Reset"})]}))]}))})})},oe=J.a.TabPane;var ie=function(){return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentUser"));e&&e.isAdmin||(window.location.href="/home")}),[]),Object(l.jsxs)("div",{className:"ml-3 mt-3 mr-3 bs",children:[Object(l.jsx)("h1",{className:"text-center",children:"Admin Panel"}),Object(l.jsxs)(J.a,{defaultActiveKey:"1",children:[Object(l.jsx)(oe,{tab:"Bookings",children:Object(l.jsx)(X,{})},"1"),Object(l.jsx)(oe,{tab:"Rooms",children:Object(l.jsx)($,{})},"2"),Object(l.jsx)(oe,{tab:"Add Room",children:Object(l.jsx)(se,{})},"3"),Object(l.jsx)(oe,{tab:"Users",children:Object(l.jsx)(ee,{})},"4")]})]})};D.a.init({duration:2e3});var le=function(){return Object(l.jsx)("div",{className:"row landing",children:Object(l.jsxs)("div",{className:"col-md-12 text-center",children:[Object(l.jsx)("h2",{"data-aos":"zoom-in",style:{color:"white",fontSize:"100px"},children:"SUITE SPOT"}),Object(l.jsx)("h1",{"data-aos":"zoom-out",style:{color:"white"},children:"Indulge in luxury, where every guest reigns supreme."}),Object(l.jsx)(o.b,{to:"/home",children:Object(l.jsx)("button",{className:"btn btn-primary landingBtn",children:"Get Started"})})]})})};var je=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(j,{}),Object(l.jsx)(i.a,{path:"/",exact:!0,component:le}),Object(l.jsx)(i.a,{path:"/home",exact:!0,component:M}),Object(l.jsx)(i.a,{path:"/book/:roomid/:fromdate/:todate",exact:!0,component:T}),Object(l.jsx)(i.a,{path:"/register",exact:!0,component:L}),Object(l.jsx)(i.a,{path:"/login",exact:!0,component:B}),Object(l.jsx)(i.a,{path:"/profile",exact:!0,component:W}),Object(l.jsx)(i.a,{path:"/admin",exact:!0,component:ie})]})})},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,326)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(je,{})}),document.getElementById("root")),de()}},[[312,1,2]]]);
//# sourceMappingURL=main.b226c8a3.chunk.js.map